<!DOCTYPE html>

<html class="transitionEnd video">

    <head>

        <link href="css/bootstrap.min.css" rel="stylesheet"/>
        <link href="css/prism.css" rel="stylesheet"/>
        <link href="css/styles.css" rel="stylesheet"/>

                    <title>Crux Gaming: Zao</title>
        
        <script src="js/jquery-1.11.1.min.js"></script>
        <script src="js/bootstrap.min.js"></script>        
        <script src="js/core.js"></script>
        <script src="js/scripts.js"></script>
        <script src="js/components.js"></script>
    </head>

    <body>
        <div class="container">
            <div id="top">
                <div>
                    <a href="index.html"><img alt="Crux Gaming" src="img/Logo.png"/></a>
                </div>                             
                <ul class="nav nav-pills">
                    <li><a href="index.html">Home</a></li>
                    <li role="presentation" class="dropdown">
                        <a class="dropdown-toggle" data-toggle="dropdown" href="zao.php.html#" role="button" aria-haspopup="true" aria-expanded="false">
                            <strong>Games</strong> <span class="caret"></span>
                        </a>
                        <ul class="dropdown-menu">
                            <li><a href="CRL.html">CRL</a></li>
                            <li><a href="nblocks.php.html">n Blocks</a></li>
                            <li><a href="solitaire.php.html">Lucky Club Solitaire</a></li>
                            <li><a href="zao.php.html">Zao</a></li>
                            <li><a href="spacetime.php.html">Space-Time</a></li>
                        </ul>
                    </li>
                    <li role="presentation" class="dropdown">
                        <a class="dropdown-toggle" data-toggle="dropdown" href="zao.php.html#" role="button" aria-haspopup="true" aria-expanded="false">
                            <strong>Other Projects</strong> <span class="caret"></span>
                        </a>
                        <ul class="dropdown-menu">
                            <li><a href="Nahk.html">Nahk: A Productivity Tool</a></li>
                            <li><a href="bf_dps.php.html">BF Team Builder</a></li>
                            <li><a href="dgb.php.html">Disc Golf Buddy</a></li>
                            <li><a href="info.php.html">Info</a></li>
                        </ul>
                    </li>
                </ul>
                                                     
            </div>            
            <div id="middle">

<div class="Panel bordered Panel--large Panel--right">
    <video data-src="img/zao_3.webm" loop="loop"  muted="muted" class="Panel-video Panel-bg"></video>
    <div class="Panel-area SyncHeight-item">
        <div class="Panel-box">
            <div class="Panel-content">
                <div class="Panel-title">Zao</div>
                <div class="Content Content--onDark Panel-desc">Explore a new world in Zao!</div>
                <!--<div class="Panel-buttons">
                    <a href="https://play.google.com/store/apps/details?id=com.crux.zao" class="Button Button&#45;&#45;ghost Panel-button">
                        <div class="Button-outer">
                            <div class="Button-inner">
                                <div class="Button-label">Android</div>
                            </div>
                        </div>
                    </a>

                </div>-->
            </div>
        </div>
    </div>
</div>


<div class="bs-callout bs-callout-primary" id="callout-inputgroup-container-body">
    <h4>General Details</h4>
    <p>Stationed on a distant barren planet, your goal is to explore and unlock new areas, gather valuable crystals and purchase and upgrade
    units to help you in your task.<br>
        Combining elements from incremental, clicker and memory game genres with unique units and a vast terrain.
    </p>
    <div class="space-normal"></div>
    <h4>Technical Details</h4>
    <p>
        - Developed in Unity and programmed in C#.<br>
        - Features a very large detailed terrain and units, optimized for mobile.<br>
        - Low-poly 3d models with normal/specular and diffuse maps transferred from high-poly models.<br>
        - Custom hlsl shaders used on some elements for mobile optimization.<br>
        - Features multiple .apk deployments containing optimized texture compression for different hardware,
        taking advantage of Google Play's ability to distribute the correct version. <br>
        - Unity Ads for in-game ads. <br>
        - Published on Google Play.
    </p>


</div>
<script src="js/prism.js"></script>
<div class="panel-group" id="accordion">
    <div class="panel panel-default">
        <div class="panel-heading">
            <h4 class="panel-title">
                <a data-toggle="collapse" data-parent="#accordion" href="zao.php.html#collapse1">
                    Screenshots</a>
            </h4>
        </div>
        <div id="collapse1" class="panel-collapse collapse in">
            <div class="panel-body">

                <div id="myCarousel" class="carousel slide" data-ride="carousel">
                    <!-- Indicators -->
                    <ol class="carousel-indicators">
                        <li data-target="#myCarousel" data-slide-to="0" class="active"></li>
                        <li data-target="#myCarousel" data-slide-to="1"></li>
                        <li data-target="#myCarousel" data-slide-to="2"></li>
                        <li data-target="#myCarousel" data-slide-to="3"></li>
                        <li data-target="#myCarousel" data-slide-to="4"></li>
                        <li data-target="#myCarousel" data-slide-to="5"></li>
                    </ol>

                    <!-- Wrapper for slides -->
                    <div class="carousel-inner" role="listbox">
                        <div class="item active">
                            <img class="sld_img" src="img/zao_ss_1.jpg" >
                        </div>

                        <div class="item">
                            <img class="sld_img" src="img/zao_ss_2.jpg" >
                        </div>

                        <div class="item">
                            <img class="sld_img" src="img/zao_ss_3.jpg" >
                        </div>

                        <div class="item">
                            <img class="sld_img" src="img/zao_ss_4.jpg" >
                        </div>

                        <div class="item">
                            <img class="sld_img" src="img/zao_ss_5.jpg" >
                        </div>

                        <div class="item">
                            <img class="sld_img" src="img/zao_ss_6.jpg" >
                        </div>
                    </div>

                    <!-- Left and right controls -->
                    <a class="left carousel-control" href="zao.php.html#myCarousel" role="button" data-slide="prev">
                        <span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>
                        <span class="sr-only">Previous</span>
                    </a>
                    <a class="right carousel-control" href="zao.php.html#myCarousel" role="button" data-slide="next">
                        <span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>
                        <span class="sr-only">Next</span>
                    </a>
                </div>

            </div>
        </div>
    </div>
    <div id="bootstrap_overrides" class="panel panel-default">
        <div class="panel-heading">
            <h4 class="panel-title">
                <a data-toggle="collapse" data-parent="#accordion" href="zao.php.html#collapse2">
                    Asset Examples</a>
            </h4>
        </div>
        <div id="collapse2" class="panel-collapse collapse">
            <div class="panel-body">


                <div id="myCarousel2" class="carousel slide" data-ride="carousel">
                    <!-- Indicators -->
                    <ol class="carousel-indicators">
                        <li data-target="#myCarousel2" data-slide-to="0" class="active"></li>
                        <li data-target="#myCarousel2" data-slide-to="1"></li>
                        <li data-target="#myCarousel2" data-slide-to="2"></li>
                        <li data-target="#myCarousel2" data-slide-to="3"></li>
                        <li data-target="#myCarousel2" data-slide-to="4"></li>
                        <li data-target="#myCarousel2" data-slide-to="5"></li>
                    </ol>

                    <!-- Wrapper for slides -->
                    <div class="carousel-inner" role="listbox">
                        <div class="item active">
                            <img class="sld_img" src="img/zao_ae_2.jpg" >
                        </div>

                        <div class="item">
                            <img class="sld_img" src="img/zao_ae_3.jpg" >
                        </div>

                        <div class="item">
                            <img class="sld_img" src="img/zao_ae_4.jpg" >
                        </div>

                        <div class="item">
                            <img class="sld_img" src="img/zao_ae_5.jpg" >
                        </div>

                        <div class="item">
                            <img class="sld_img" src="img/zao_ae_6.jpg" >
                        </div>

                        <div class="item">
                            <img class="sld_img" src="img/zao_ae_7.jpg" >
                        </div>

                    </div>

                    <!-- Left and right controls -->
                    <a class="left carousel-control" href="zao.php.html#myCarousel2" role="button" data-slide="prev">
                        <span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>
                        <span class="sr-only">Previous</span>
                    </a>
                    <a class="right carousel-control" href="zao.php.html#myCarousel2" role="button" data-slide="next">
                        <span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>
                        <span class="sr-only">Next</span>
                    </a>
                </div>


            </div>
        </div>
    </div>
    <div class="panel panel-default">
        <div class="panel-heading">
            <h4 class="panel-title">
                <a data-toggle="collapse" data-parent="#accordion" href="zao.php.html#collapse3">
                    Code Example 1</a>
            </h4>
        </div>
        <div id="collapse3" class="panel-collapse collapse">
            <div class="panel-body">


                <pre><code class="language-csharp">
                        /**
                        * GM.cs
                        * A Game Manager script that creates a single point to access commonly
                        * used public data and functions throughout Zao.
                        * NicholusHuber@gmail.com
                        */
                        using System.Collections;
                        using System.Collections.Generic;
                        using UnityEngine;
                        using System.Globalization;
                        using JetBrains.Annotations;

                        public class GM : MonoBehaviour
                        {
                            public static AchievementSystem AchievementSystem { get; private set; }
                            public static Ads               Ads               { get; private set; }
                            public static Search            Search            { get; private set; }
                            public static CamMain           CamMain           { get; private set; }
                            public static CamUnit           CamUnit           { get; private set; }
                            public static CamMap            CamMap            { get; private set; }
                            public static SaveLoad          SaveLoad          { get; private set; }
                            public static SoundFX           SoundFX           { get; private set; }
                            public static UIInfo            UIInfo            { get; private set; }
                            public static UIScores          UIScores          { get; private set; }
                            public static UIMenu            UIMenu            { get; private set; }
                            public static UIUnits           UIUnits           { get; private set; }
                            public static UISearchButton    UISearchButton    { get; private set; }
                            public static UIHexTooltip      UIHexTooltip      { get; private set; }
                            public static Data              Data              { get; private set; }
                            public static TimeData          TimeData          { get; private set; }
                            public static CultureInfo       CultureInfo       { get; private set; }
                            public static Camera            MapCamera         { get; private set; }
                            public static Camera            SearchCamera      { get; private set; }
                            public static Camera            UiCamera          { get; private set; }
                            public static GameObject        UIRootGameObject  { get; private set; }
                            public static FPS               Fps               { get; private set; }
                            public static Tutorial          Tutorial          { get; private set; }
                            public static GameState         PrevGameState     { get; private set; }
                            public static GameState         GameState
                            {
                                get { return _gameState; }
                                set
                                {
                                    if (_gameState.IsIn(UIMenu.IdleGameStates)) PrevGameState = _gameState;
                                    _gameState = value;
                                }
                            }

                            private static GameState  _gameState;
                            private static TweenAlpha _cameraAlpha;
                            private static readonly Dictionary&lt;string, BoxCollider&gt; MainButtonColliders = new Dictionary&lt;string, BoxCollider&gt;();

                            [UsedImplicitly]
                            private void Awake()
                            {
                                AchievementSystem = FindObjectOfType&lt;AchievementSystem&gt;();
                                Ads               = FindObjectOfType&lt;Ads&gt;();
                                Search            = FindObjectOfType&lt;Search&gt;();
                                CamMain           = FindObjectOfType&lt;CamMain&gt;();
                                CamUnit           = FindObjectOfType&lt;CamUnit&gt;();
                                CamMap            = FindObjectOfType&lt;CamMap&gt;();
                                SaveLoad          = FindObjectOfType&lt;SaveLoad&gt;();
                                SoundFX           = FindObjectOfType&lt;SoundFX&gt;();
                                UIInfo            = FindObjectOfType&lt;UIInfo&gt;();
                                UIScores          = FindObjectOfType&lt;UIScores&gt;();
                                UIMenu            = FindObjectOfType&lt;UIMenu&gt;();
                                UIUnits           = FindObjectOfType&lt;UIUnits&gt;();
                                UISearchButton    = FindObjectOfType&lt;UISearchButton&gt;();
                                UIHexTooltip      = FindObjectOfType&lt;UIHexTooltip&gt;();
                                MapCamera         = GameObject.Find("2dMapCamera").GetComponent&lt;Camera&gt;();
                                SearchCamera      = GameObject.Find("_camMain").GetComponent&lt;Camera&gt;();
                                UiCamera          = GameObject.Find("UI Root").GetComponentInChildren&lt;Camera&gt;();
                                UIRootGameObject  = GameObject.Find("UI Root");
                                _cameraAlpha      = GameObject.Find("CameraAlpha").GetComponent&lt;TweenAlpha&gt;();
                                Fps               = GameObject.Find("FPS Counter").GetComponent&lt;FPS&gt;();
                                Tutorial          = GameObject.Find("Panel - Tutorial").GetComponent&lt;Tutorial&gt;();

                                Data.NewData();
                                Data        = Data.Instance;
                                TimeData    = TimeData.Instance;
                                CultureInfo = new CultureInfo("en-us");
                                GameState   = GameState.INTRO;
                                MainButtonColliders.Add("info" , GameObject.Find("UnitInfoButton").GetComponent&lt;BoxCollider&gt;());
                                MainButtonColliders.Add("map"  , GameObject.Find("MapButton").GetComponent&lt;BoxCollider&gt;());
                                MainButtonColliders.Add("menu" , GameObject.Find("MenuButton").GetComponent&lt;BoxCollider&gt;());
                                MainButtonColliders.Add("bonus", GameObject.Find("BonusButton").GetComponent&lt;BoxCollider&gt;());
                            }

                            [UsedImplicitly]
                            private void Update()
                            {
                                for (var i = 0; i &lt; Data.Units.Length; i++)
                                {
                                    Data.Units[i].UnitUpdate(Time.deltaTime);
                                }
                                if (Data.VideoRewardTimer &gt; 0) Data.VideoRewardTimer -= Time.deltaTime;
                                else if (UIScores.BonusLabel.isActiveAndEnabled)
                                {
                                    Data.GlobalMult = Data.GlobalMult;        // update the value
                                    UIScores.BonusLabel.enabled = false;
                                }
                            }


                            /// &lt;summary&gt;
                            /// Displays a message at the top of the screen for x seconds.
                            /// &lt;/summary&gt;
                            /// &lt;param name="txt"&gt;the message to display&lt;/param&gt;
                            /// &lt;param name="time"&gt;(opt) time to display&lt;/param&gt;
                            public static void SysMsg(string txt, float time = 2.5f)
                            {
                                UIMenu.SysMsg(txt, time);
                            }

                            /// &lt;summary&gt;
                            /// Fade the screen to or from black.
                            /// &lt;/summary&gt;
                            /// &lt;param name="fadeToBlack"&gt;True to fade to black, false to fade to transparent.&lt;/param&gt;
                            public static IEnumerator FadeCam(bool fadeToBlack)
                            {
                                if(fadeToBlack) _cameraAlpha.PlayForward();
                                else _cameraAlpha.PlayReverse();
                                yield return new WaitForSeconds(_cameraAlpha.duration);
                            }

                            /// &lt;summary&gt;
                            /// Enable or disable the 4 'main' UI Buttons. (Menu, Info, Map and Bonus)
                            /// &lt;/summary&gt;
                            /// &lt;param name="active"&gt;&lt;/param&gt;
                            public static void MainButtonsSetAllActive(bool active)
                            {
                                foreach (var entry in MainButtonColliders)
                                {
                                    entry.Value.enabled = active;
                                }

                            }

                            /// &lt;summary&gt;
                            /// Enable or disable one of the 'main' UI Buttons. (info, map, menu or bonus)
                            /// &lt;/summary&gt;
                            /// &lt;param name="button"&gt;info, map, menu, bonus&lt;/param&gt;
                            /// &lt;param name="active"&gt;enable/disable&lt;/param&gt;
                            public static void MainButtonsSetActive(string button, bool active)
                            {
                                MainButtonColliders[button].enabled = active;
                            }
                        }


                    </code></pre>

            </div>
        </div>
    </div>
    <div class="panel panel-default">
        <div class="panel-heading">
            <h4 class="panel-title">
                <a data-toggle="collapse" data-parent="#accordion" href="zao.php.html#collapse4">
                    Code Example 2</a>
            </h4>
        </div>
        <div id="collapse4" class="panel-collapse collapse">
            <div class="panel-body">

                <pre><code class="language-csharp">
                        /**
                        * Miner.cs
                        * Script for the Miner units in Zao. Derives from the abstract 'Unit' base class, providing
                        * a way to create arrays of base units .
                        * NicholusHuber@gmail.com
                        */
                        using System.Collections.ObjectModel;
                        using UnityEngine;

                        [System.Serializable]
                        public class Miner : Unit
                        {
                            /**
                             * Private Constants
                             * Used in calculations for the Miner class
                             */
                            private const ushort BaseMaxCarryAmount = 2;
                            private const ushort BaseMorale         = 1;
                            /**
                             * Public Get Private Set Properties
                             * Used for data that is unique to the Miner class.
                             * Can be accessed in the generic Unit array by casting to a Miner class.
                             */
                            public decimal CurrentMorale { get; protected set; }
                            /**
                             * Public Sealed Override ReadOnlyCollections with auto get accessor. These are assigned to in the derived class constructors and are immutable afterwards. Sealed to prevent errors.
                             * Used for publicly read-only indexed data that will not change during runtime.
                             */
                            public sealed override ReadOnlyCollection&lt;string&gt;  NameStrings               { get; }
                            public sealed override ReadOnlyCollection&lt;decimal&gt; UpgradeAmountDecimals     { get; }
                            public sealed override ReadOnlyCollection&lt;decimal&gt; BaseCostDecimals          { get; }
                            public sealed override ReadOnlyCollection&lt;decimal&gt; CostScalingDecimals1      { get; }
                            public sealed override ReadOnlyCollection&lt;decimal&gt; CostScalingDecimals2      { get; }
                            public sealed override ReadOnlyCollection&lt;string&gt;  UpgradeDescriptionStrings { get; }
                            /// &lt;summary&gt;
                            /// Used in the unit info window stat strings.
                            /// &lt;/summary&gt;
                            //


                            public Miner()
                            {
                                NameStrings               = new ReadOnlyCollection&lt;string&gt; (new[] { "Miner", "Lightweight Backpack", "Improved Workboots", "Workers' Morale", "Search Bonus 1" });
                                UpgradeAmountDecimals     = new ReadOnlyCollection&lt;decimal&gt;(new[] {  1m,      1m,                     0.0228m,              0.01m,             1m              });
                                BaseCostDecimals          = new ReadOnlyCollection&lt;decimal&gt;(new[] {  20m,     10m,                    10m,                  10m,               10m             });
                                CostScalingDecimals1      = new ReadOnlyCollection&lt;decimal&gt;(new[] {  0m,      0m,                     0m,                   0m,                0m              });
                                CostScalingDecimals2      = new ReadOnlyCollection&lt;decimal&gt;(new[] {  0.05m,   0.1m,                   1m,                   0.75m,             0.4m            });
                                UpgradeDescriptionStrings = new ReadOnlyCollection&lt;string&gt; (new[]
                                {
                                    "\n\n\n",
                                    string.Format("[b]+{0}[/b] max. carry"         , UpgradeAmountDecimals[1].ToString("N1")),
                                    string.Format("[b]+{0}[/b] gather speed"       , UpgradeAmountDecimals[2].ToString("P1")),
                                    string.Format("[b]+{0}[/b] avg. gather."       , UpgradeAmountDecimals[3].ToString("P1")),
                                    string.Format("[b]+{0} x[/b] Search Bonus (1).", UpgradeAmountDecimals[4].ToString("N1", GM.CultureInfo))
                                });
                                CurrentMaxCarryAmount = BaseMaxCarryAmount;
                                CurrentMorale         = BaseMorale;
                                MaxUpgradeRanks[2]   = CalcMaxWorkbootsRank();
                                MaxUpgradeRanks[3]   = (int) (BaseMorale/UpgradeAmountDecimals[3]);
                            }

                            public override bool Purchase(int upgrade)
                            {
                                if (!CheckIfValidPurchase(upgrade)) return false;
                                IncrementCurrentNumberOwnedInts(upgrade);
                                GM.UIScores.SubtractCurrency(GetCost(upgrade));
                                if (upgrade != 4) TotalSpent += GetCost(upgrade);
                                UpdateCost(upgrade);
                                UpdateStats();
                                UpdateCps();
                                return true;
                            }
                            /// &lt;summary&gt;
                            /// Returns a formatted string for the 'upgrade' - used in the unit info window.
                            /// &lt;/summary&gt;
                            /// &lt;param name="upgrade"&gt;The upgrade index&lt;/param&gt;
                            /// &lt;returns&gt;&lt;/returns&gt;
                            public override string GetUpgradeStats(int upgrade)
                            {
                                if (upgrade &lt; 1 || upgrade &gt; 3) return "";

                                var showGem   = upgrade == 1;
                                var isPercent = upgrade != 1;
                                var digits    = upgrade == 1 ? 0 : 1;
                                var post      = upgrade == 1 ? "max gather" : upgrade == 2 ? "gather speed" : "avg. gather";

                                var a = "[b](Rank "+ GetCurrentNumberOwnedInts(upgrade) +")[/b] ";
                                var b = showGem ? ":$  " : " ";
                                var c = "+[b]" + (GetCurrentNumberOwnedInts(upgrade)*UpgradeAmountDecimals[upgrade]).ToString(isPercent ? "P" + digits : "N" + digits, GM.CultureInfo) + "[/b] ";
                                var d = "[sup]" + post + "[/sup]";

                                return a + b + c + d;
                            }
                            /// &lt;summary&gt;
                            /// Returns a long description for each unit/upgrade.
                            /// &lt;/summary&gt;
                            /// &lt;param name="upgrade"&gt;The upgrade index&lt;/param&gt;
                            /// &lt;returns&gt;&lt;/returns&gt;
                            public override string GetUpgradeInfoDesc(int upgrade)
                            {
                                var desc = "";
                                switch (upgrade)
                                {
                                    case 0:
                                        desc = "Miners are relatively low-cost units. However, with sufficient numbers," +
                                               " proper gear and kept happy, they can generate large amounts of crystals.";
                                        break;
                                    case 1:
                                        desc = "Using increasingly advanced materials and designs, each rank provides your miners " +
                                               "with better backpacks, allowing them to carry larger numbers of crystals on each gathering trip.";
                                        break;
                                    case 2:
                                        desc = "Proper footwear is essential in such treacherous terrain. Each rank provides more advanced boots, " +
                                               "decreasing discomfort, fatigue, and injury, and as a result decreasing overall gather times.";
                                        break;
                                    case 3:
                                        desc = "Keeping your miners happy will lead to increased efficiency. " +
                                               "Higher morale increases the likelihood of gathering closer to maximum amounts.";
                                        break;
                                    case 4:
                                        desc = "Each time the number (1) is used in manual search, the miners are called to assist and this bonus is applied.";
                                        break;
                                }

                                return "[i]'" + desc + "'[/i]";
                            }
                            /// &lt;summary&gt;
                            /// Returns dynamic details for each unit/upgrade.
                            /// &lt;/summary&gt;
                            /// &lt;param name="upgrade"&gt;The upgrade index&lt;/param&gt;
                            /// &lt;returns&gt;&lt;/returns&gt;
                            public override string GetUpgradeInfoDetails(int upgrade)
                            {
                                var details = "";
                                switch (upgrade)
                                {
                                    case 0:
                                        details = string.Format(GM.CultureInfo, "Each miner gathers :$ 0.0 to :$ [E7B126]{0:N1}[-] (:$ [E7B126]{1:N1}[-] avg. with morale) " +
                                                                                "every [E7B126]{2:N1}[-] seconds. Upgrades purchased modify these stats.", CurrentMaxCarryAmount,
                                                                                GetAvgGatherPerUnit(), CurrentGatherLength);
                                        break;
                                    case 1:
                                        details = string.Format(GM.CultureInfo,":$ [b]+{0:N1}[/b] to each miner's maximum carry amount per rank.\n[sub][i]Base max. carry: {1:N1}[/i][/sub]",
                                            UpgradeAmountDecimals[upgrade], BaseMaxCarryAmount);
                                        break;
                                    case 2:
                                        details = string.Format(GM.CultureInfo, "[b]{0:P1}[/b] reduction to the current gather time per rank.\n[sub][i]Base gather time: {1:N1} sec[/i][/sub]",
                                            UpgradeAmountDecimals[upgrade], BaseGatherLength);
                                        break;
                                    case 3:
                                        details = string.Format(GM.CultureInfo, "[b]+{0:P1}[/b] increased chance to gather closer to the maximum amount per rank." +
                                                                                "\n[sub][i]Base skew amount: 0 %[/i][/sub]", UpgradeAmountDecimals[upgrade]);
                                        break;
                                    case 4:
                                        details = string.Format(GM.CultureInfo, "[b]+{0:P1}[/b] bonus to the gather amount when (1) is used in manual searches per rank." +
                                                                                "\n[sub][i]Base manual search amount: 100 %[/i][/sub]", UpgradeAmountDecimals[upgrade]);
                                        break;
                                }
                                return details;
                            }
                            /// &lt;summary&gt;
                            /// Returns the base gather range for miner as a vector 2.
                            /// &lt;/summary&gt;
                            /// &lt;returns&gt;&lt;/returns&gt;
                            public override Vector2 GetBaseGatherRange()
                            {
                                return new Vector2(0, BaseMaxCarryAmount);
                            }

                            /// &lt;summary&gt;
                            /// (Re)calculates the current value of upgradeable stats.
                            /// &lt;/summary&gt;
                            protected override void UpdateStats()
                            {
                                CurrentMaxCarryAmount = BaseMaxCarryAmount + UpgradeAmountDecimals[1] * GetCurrentNumberOwnedInts(1);
                                CurrentGatherLength   = CalcGatherTime();
                                CurrentMorale         = BaseMorale - UpgradeAmountDecimals[3] * GetCurrentNumberOwnedInts(3);
                                CurrentSearchBonus    = CalcSearchBonus();
                            }
                            /// &lt;summary&gt;
                            /// Uses the Miner gather formula to return a value.
                            /// MinerGather(false, false, false, false, false) returns the round gather amount.
                            /// MinerGather(true, false, false, false, false) returns the current unit CPS.
                            /// MinerGather(true, true, false, false, false) returns an upgrade purchase CPS gain.
                            /// &lt;/summary&gt;
                            /// &lt;param name="returnAvgCps"&gt;&lt;/param&gt;
                            /// &lt;param name="upgradeUnit"&gt;&lt;/param&gt;
                            /// &lt;param name="upgrade1Max"&gt;&lt;/param&gt;
                            /// &lt;param name="upgrade2Speed"&gt;&lt;/param&gt;
                            /// &lt;param name="upgrade3Morale"&gt;&lt;/param&gt;
                            /// &lt;returns&gt;&lt;/returns&gt;
                            protected override decimal CurrencyGeneration(bool returnAvgCps, bool upgradeUnit, bool upgrade1Max, bool upgrade2Speed, bool upgrade3Morale)
                            {
                                var m = upgrade3Morale ? CurrentMorale - UpgradeAmountDecimals[3]                             : CurrentMorale;
                                var t = upgrade2Speed  ? CurrentGatherLength - CurrentGatherLength * UpgradeAmountDecimals[2] : CurrentGatherLength;

                                var a = returnAvgCps   ? (decimal) Mathf.Pow(0.5f, (float) m)                                 : (decimal) Mathf.Pow(Random.value, (float) m);
                                var b = upgradeUnit    ? GetCurrentNumberOwnedInts(0) + 1                                     : GetCurrentNumberOwnedInts(0);
                                var c = upgrade1Max    ? CurrentMaxCarryAmount + UpgradeAmountDecimals[1]                     : CurrentMaxCarryAmount;
                                var d = (decimal) GM.AchievementSystem._afUnitRewardBonus[0];
                                var e = (decimal) GM.Data.GlobalMult;
                                var f = returnAvgCps   ? t                                                                    : 1;

                                return a*b*c*d*e/f;
                            }

                            /// &lt;summary&gt;
                            /// Returns the averaged round gather amount.
                            /// &lt;/summary&gt;
                            /// &lt;returns&gt;&lt;/returns&gt;
                            private float GetAvgGatherPerUnit()
                            {
                                return (float) (GetCurrentNumberOwnedInts(0) &gt; 0 ? CurrencyGeneration(true, false, false, false, false)*CurrentGatherLength/GetCurrentNumberOwnedInts(0) : (0 + BaseMaxCarryAmount) / 2m);
                            }
                            /// &lt;summary&gt;
                            /// Calculates and returns the current gather time.
                            /// &lt;/summary&gt;
                            /// &lt;returns&gt;&lt;/returns&gt;
                            private decimal CalcGatherTime()
                            {
                                decimal time = BaseGatherLength;
                                for (var i = 0; i &lt; GetCurrentNumberOwnedInts(2); i++)
                                    time -= time * UpgradeAmountDecimals[2];
                                return time;
                            }
                            /// &lt;summary&gt;
                            /// Calculates the maximum purchasable rank for the Workboots upgrade.
                            /// &lt;/summary&gt;
                            /// &lt;returns&gt;&lt;/returns&gt;
                            private int CalcMaxWorkbootsRank()
                            {
                                decimal time = BaseGatherLength;
                                var rank = 0;
                                while (time &gt; MinimumGatherTime)
                                {
                                    time -= time * UpgradeAmountDecimals[2];
                                    rank++;
                                }
                                return rank;
                            }
                        }

                    </code></pre>

            </div>
        </div>
    </div>
    <div class="panel panel-default">
        <div class="panel-heading">
            <h4 class="panel-title">
                <a data-toggle="collapse" data-parent="#accordion" href="zao.php.html#collapse5">
                    Code Example 3</a>
            </h4>
        </div>
        <div id="collapse5" class="panel-collapse collapse">
            <div class="panel-body">

                <pre><code class="language-glsl">
                        /**
                        * Water.shader
                        * A custom water shader for Zao.
                        * NicholusHuber@gmail.com
                        */
                        Shader "NH/Water"
                        {
                            Properties
                            {
                                _Color("Color Tint", Color) = (1.0,1.0,1.0,1.0)
                                //The main texture file.
                                _MainTex("Diffuse Texture", 2D) = "white" {}
                                //The normal map file.
                                _BumpMap("Normal Texture", 2D) = "bump" {}
                                //A slider to adjust the normal map intensity.
                                _BumpDepth("Bump Depth", Range(-2.0,2.0)) = 1.0
                                //A color picker, used to change the color of the specular highlights.
                                _SpecColor("Spec Color", Color) = (1.0,1.0,1.0,1.0)
                                //A float value, used to adjust the "sharpness" of the specular highlights.
                                _Shininess("Shininess", Float) = 10
                                //A float value, used to control the brightness of the specular highlights.
                                _SpecIntensity("Spec Intensity", Float) = 1
                                //The cubemap that is being used for reflections or refractions.
                                _Cube("Cube Map", Cube) = "" {}
                                //A slider to adjust the normal map intensity.
                                _CubemapMult("Cubemap Mult", Range(0.0, 10.0)) = 1.0

                                _AnimSpeed ("Animation Speed", Float) = 10.0
                                _AnimFreq ("Animation Frequency", Float) = 1.0
                                _AnimPowerX ("Animation Power X", Float) = 0.0
                                _AnimPowerY ("Animation Power Y", Float) = 0.1
                                _AnimPowerZ ("Animation Power Z", Float) = 0.0
                                _AnimOffsetX ("Animation Offset X", Float) = 10.0
                                _AnimOffsetY ("Animation Offset Y", Float) = 0.0
                                _AnimOffsetZ ("Animation Offset Z", Float) = 0.0

                                _FlowSpeedX ("Water Flow Speed X", Float) = 0.0
                                _FlowSpeedY ("Water Flow Speed Y", Float) = 0.0
                            }

                            SubShader
                            {
                                Tags
                                {
                                    "Queue" = "Transparent"
                                }
                                //More about blend types in the comments section below.
                                Blend SrcAlpha OneMinusSrcAlpha
                                Pass
                                {
                                    Tags {"LightMode" = "ForwardBase"}
                                    CGPROGRAM
                                    //pragmas
                                    #pragma vertex vert
                                    #pragma fragment frag

                                    //user defined variables
                                    uniform fixed4 _Color;
                                    uniform sampler2D _MainTex;
                                    uniform half4 _MainTex_ST;
                                    uniform sampler2D _BumpMap;
                                    uniform half4 _BumpMap_ST;
                                    uniform fixed _BumpDepth;
                                    uniform fixed4 _SpecColor;
                                    uniform half _Shininess;
                                    uniform half _SpecIntensity;
                                    //Cube Map Reflections variable
                                    uniform samplerCUBE _Cube;
                                    uniform half _CubemapMult;
                                    uniform half _AnimSpeed;
                                    uniform half _AnimFreq;
                                    uniform half _AnimPowerX;
                                    uniform half _AnimPowerY;
                                    uniform half _AnimPowerZ;
                                    uniform half _AnimOffsetX;
                                    uniform half _AnimOffsetY;
                                    uniform half _AnimOffsetZ;
                                    uniform half _FlowSpeedX;
                                    uniform half _FlowSpeedY;

                                    //unity defined variables
                                    uniform half4 _LightColor0;

                                    //base input structures
                                    struct vertexInput
                                    {
                                        half4 vertex : POSITION;
                                        half3 normal : NORMAL;
                                        half4 texcoord : TEXCOORD0;
                                        half4 tangent : TANGENT;
                                    };

                                    struct vertexOutput
                                    {
                                        half4 pos : SV_POSITION;
                                        fixed3 normalWorld : TEXCOORD0;
                                        fixed4 lightDir : TEXCOORD1;
                                        fixed3 viewDir : TEXCOORD2;
                                        fixed3 tangentWorld : TEXCOORD3;
                                        fixed3 binormalWorld : TEXCOORD4;
                                        half4 tex : TEXCOORD5;
                                        half4 offsets : TEXCOORD6;
                                    };


                                    //vertex function
                                    vertexOutput vert(vertexInput v)
                                    {
                                        vertexOutput o;

                                        //Passing along the vertex's texture coordinate for use in the fragment function.
                                        o.tex = v.texcoord;
                                        //texture movement
                                        //offsets .x = texture x axis, .y = texture y axis, .z = normal x axis, .w = normal y axis
                                        o.offsets.x = _MainTex_ST.z + (_Time.x * _FlowSpeedX);
                                        o.offsets.y = _MainTex_ST.w + (_Time.x * _FlowSpeedY);
                                        o.offsets.z = _BumpMap_ST.z + (_Time.x * _FlowSpeedX);
                                        o.offsets.w = _BumpMap_ST.w + (_Time.x * _FlowSpeedY);
                                        //vertex animation
                                        half3 animOffset = half3(_AnimOffsetX, _AnimOffsetY, _AnimOffsetZ) * v.vertex.xyz;
                                        half3 animPower = half3(_AnimPowerX, _AnimPowerY, _AnimPowerZ);
                                        half4 newPos = v.vertex;
                                        newPos.xyz = newPos.xyz + sin(_Time.x * _AnimSpeed +(animOffset.x+animOffset.y+animOffset.z) * _AnimFreq) * animPower.xyz;

                                        //normalDirection
                                        o.normalWorld = normalize( mul( half4( v.normal, 0.0 ), unity_WorldToObject ).xyz );
                                        o.tangentWorld = normalize(mul(unity_ObjectToWorld,v.tangent).xyz);
                                        o.binormalWorld = normalize(cross(o.normalWorld, o.tangentWorld) * v.tangent.w);

                                        //unity transform position
                                        o.pos = mul(UNITY_MATRIX_MVP, newPos);

                                        //world position
                                        half4 posWorld = mul(unity_ObjectToWorld, newPos);
                                        //view direction
                                        o.viewDir = normalize( _WorldSpaceCameraPos.xyz - posWorld.xyz );
                                        //light direction
                                        half3 fragmentToLightSource = _WorldSpaceLightPos0.xyz - posWorld.xyz;
                                        o.lightDir = fixed4(
                                            normalize( lerp(_WorldSpaceLightPos0.xyz , fragmentToLightSource, _WorldSpaceLightPos0.w) ),
                                            lerp(1.0 , 1.0/length(fragmentToLightSource), _WorldSpaceLightPos0.w)
                                        );

                                        return o;
                                    }

                                    //fragment functions
                                    fixed4 frag(vertexOutput i) : COLOR
                                    {
                                        //texture maps
                                        fixed4 tex = tex2D(_MainTex, i.tex.xy * _MainTex_ST.xy + i.offsets.xy);
                                        fixed4 texN = tex2D(_BumpMap, i.tex.xy * _BumpMap_ST.xy + i.offsets.zw);

                                        fixed3 localCoords = fixed3(2.0 * texN.ag - float2(1.0,1.0), _BumpDepth);
                                        half3x3 local2WorldTranspose = half3x3(i.tangentWorld, i.binormalWorld, i.normalWorld);
                                        fixed3 normalDir =  normalize(mul(localCoords, local2WorldTranspose));

                                        //CUBEMAP REFLECTION DIRECTION CALCULATION
                                        //	refract can be used in place of reflect with a third argument being 1 divided by the refraction index
                                        //	i.e. refract(i.viewDir, i.normalDir, 1 / 1.333);
                                        float3 reflectDir = reflect(i.viewDir, normalDir);
                                        //Cube Reflection texture map
                                        fixed4 texCM = texCUBE(_Cube, -reflectDir);
                                        //dot product
                                        fixed nDotL = saturate(dot(normalDir, i.lightDir.xyz));

                                        //lighting
                                        fixed3 diffuseReflection = i.lightDir.w * _LightColor0.xyz * nDotL;

                                        fixed3 specularReflection = i.lightDir.w * _SpecColor.xyz * max(0.0, dot(normalDir, i.lightDir.xyz)) *
                                         pow( max(0.0, dot(reflect(-i.lightDir.xyz, normalDir), i.viewDir)), _Shininess);


                                        //final lighting calculation
                                        fixed3 lightFinal = (texCM * _CubemapMult) + diffuseReflection + (specularReflection *  _SpecIntensity) + UNITY_LIGHTMODEL_AMBIENT.xyz;

                                        //return value
                                        return fixed4(lightFinal * _Color.xyz * tex.xyz, _Color.a);
                                    }

                                    ENDCG
                                }


                            }
                            Fallback "Diffuse"
                        }
                    </code></pre>

            </div>
        </div>
    </div>
</div>

            </div>

            <div id="bottom">
                Copyright &#169; Nicholus Huber / Crux Gaming
            </div>

        </div>

    </body>

</html>
